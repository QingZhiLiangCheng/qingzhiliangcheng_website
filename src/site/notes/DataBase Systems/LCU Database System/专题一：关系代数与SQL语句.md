---
{"tags":["LCU数据库"],"dg-publish":true,"permalink":"/DataBase Systems/LCU Database System/专题一：关系代数与SQL语句/","dgPassFrontmatter":true,"noteIcon":"","created":"2025-06-21T15:37:51.515+08:00","updated":"2025-06-26T20:00:00.869+08:00"}
---


> [!note]
> ![Pasted image 20250621154719.png](/img/user/accessory/Pasted%20image%2020250621154719.png)
>用关系代数完成下面操作：
> 1. 检索年龄大于20岁的北京籍学生的学号和年龄。Select sno, sname from student where sage > 20 and addr = ‘北京’;
> 2. 检索选修了数据库课程的男生的学号和姓名。
>
>用SQL语言完成下面操作：
>
> 3.  查询所有课程都及格的学生信息。
>4. 统计每一门课程的最高分、最低分和平均分。
>5. 查询选修了高等数学课程的学生的个人信息。
>6. 向数据库中添加一个学生信息。
> 
> | **学号** | **姓  名** | **年龄** | **性别** | **籍贯** |
> | ------ | -------- | ------ | ------ | ------ |
> | 98606  | 郭大力      | 20     | 男      | 湖南     |
> 
> 7. 在SC表的sno上创建一个外键。
> 8. 查询所有学生中平均成绩最高的那个学生的学号。
>
>(来源: 11-12年 A卷)


- 关系代数适当的时候可以画一棵关系代数的语法树来帮助写语句
- 第三题找所有课程都及格的有好多种思路 一种是先子查询查出不及格的来，然后再找不在不及格的中的学生学号； 一种方法是找grade的最小值大于60
- 第四题要注意平均函数不是average啊 不是全拼 不是全拼 是avg
- 第五题 最简单的做法就是select后面把所有表名都写上，不用去join 但是记得where中要把连表的那个条件都写明白
- 第七题 记得去复习改表语句 一定要掌握外键的写法
- 第八题 记得重做


> [!note]
> 已知SPJ数据库中4张表的关系模式如下：
> S(sno，sname，scity )            --供应商表：供应商编号，名称，所在地
> P( pno，pname，color，weight )       --零件表：零件编号，名称，颜色，重量
> J( jno，jname，jcity )                --工程表：工程编号，工程名称，所在地
> SPJ( sno，pno，jno，qty)        --供应关系表：供应商号，零件号，工程号，供应量
> 用关系代数完成下面操作：
> 1. 检索使用了S1供应商供应的零件的工程号jno。
> 2. 检索给工程J2供应螺母零件的供应商号码sno。
> 
> 用SQL语言完成下面操作：
> 
> 3. 查询S3供应商供应的零件号码pno和零件名称pname。
> 4. 把S1供应商所在地由“天津”改为“上海”。
> 5. 授予用户U1查询、修改S表的权限，并允许该用户再转授权限给其他用户。
> 6. 创建视图preder描述重量大于12的零件的零件号pno和零件名称pname。
> 7. 在SPJ表中，把 sno设置为外键。
> 8. 查询出来使用了“上海”产的零件的工程号jno和工程名称jname。
> (来源: 11-12 B卷)

- 第四题 复习update语句 一定要注意 update直接跟表明 后面还有个set
- 第五题 权限的创建和删除 用grant和revoke，注意允许转授权加with grant option；删除的时候要收回一并分配出去的是cascade，如果只收一个人的是strict(严格的)
- 第六题 创建视图语句
- 第七题 再次考察外键

设在学生成绩管理数据库中有 3 个表：
学生表 Student(Sno,Sname,Ssex,Sage,Sde，pt)其中 Sno为主码； 
课程表 Course(Cno,Cname,Ccredit，) 其中 Cno 为主码； 
选修表 SC(Sno,Cno,grade，) 其中 (Sno，Cno)为主码， Sno 和 Cno 均为外码。 
用关系代数完成下面操作： 
1．检索年龄大于20岁的外语系（ FL）中同学的学号和姓名。 
2．查询同时选修了 C1 号和 C2 号课程的学生学号和姓名。 
用 SQL 语言完成下面操作： 
3．查询物理系（ PH）学生的姓名和年龄，并按年龄降序排列。 
4．查询学号为 S3 的学生的总成绩。 
5．将刘磊（学号 S5）新选修的数据库原理（课程号为 C5）插入选修表中，成绩为 90。 6．创建视图 V1 描述每个学生的选课情况，属性包括学号，姓名、平均分、最高分、最低分。 
7．使用户周平具有对这三个表的所有权力，但不具有给其他用户授权的权力。 
8．将学生 S2的信息从数据库中删除

> [!note]
> 已知一个关系数据库的模式如下：
> S（SNO，SNAME，SCITY） 　　
> P（PNO，PNAME，COLOR，WEIGHT） 　　
> J（JNO，JNAME，JCITY）
> SPJ（SNO，PNO，JNO，QTY）
> 其中：S表示供应商，它的各属性依次为供应商号，供应商名，供应商所在城市；
> P表示零件，它的各属性依次为零件号，零件名，零件颜色，零件重量；
> J表示工程，它的各属性依次为工程号，工程名，工程所在城市；
> SPJ表示供货关系，它的各属性依次为供应商号，零件号，工程号，供货数量。     
> 用关系代数表达式实现下列1—2小题：
> 1.查询由聊城供应商提供的零件号码。
> 2.查询满足如下条件所有零件号：提供该零件的供应商和使用该零件的工程在同一城市。
> 用SQL语言实现下列3—8小题：
> 3.查询每一个工程使用的各种零件的总量，显示工程号、零件号和零件总量。
> 4.查询没有供应任何零件的供应商姓名。
> 5.从SPJ表中查询每一个供应商号码及其供应了几种零件。
> 6.创建视图View_P4来统计每个工程使用零件“P4”的情况，包括工程号、零件数总和、最大值、最小值。
> 7.使用户“张平”具有对这四个表的所有权限，并且具有给其他用户授权的权限。
> 8.零件“P5”已停产，从数据库中删除此零件的所有信息。

